## 쿠버네티스 오브젝트

### 쿠버네티스 개념
* 클러스터 전체를 관리하는 컨트롤러 마스터
* 컨테이너가 배포되는 머신인 노드

#### 쿠버네티스 오브젝트
* 상태를 관리하기 위한 목적
* 영속성을 가지는 개체 

### 쿠버네티스 오브젝트 (Kubernetes Objects)

**쿠버네티스 오브젝트(Kubernetes Objects)**는 쿠버네티스에서 **배포**, **관리**, **확장** 등을 위해 사용하는 리소스 단위입니다. 
쿠버네티스 오브젝트는 클러스터에서 실행되는 애플리케이션과 시스템의 상태를 정의하고, 관리하는 데 사용됩니다. 각 오브젝트는 쿠버네티스 시스템에 의해 관리되며, 해당 오브젝트에 정의된 상태를 유지하려고 노력합니다.

#### 1. 주요 쿠버네티스 오브젝트

##### 1) **Pod**
- **Pod**는 쿠버네티스에서 가장 작은 배포 가능한 단위로, 하나 이상의 컨테이너를 포함합니다.
- 동일한 Pod 내의 컨테이너들은 **같은 네트워크 IP**와 **스토리지**를 공유합니다.
- Pod는 **일시적**인 특성을 가지며, 복잡한 애플리케이션을 실행하는 단위로 활용됩니다.(로컬디스크 내용 사라짐)
- 가장 기본적인  배포의 단위,일반적으로 1 POD =1 Container


##### 2) **Service**
- **Service**는 **Pod**들이 **IP 주소와 포트**를 통해 서로 통신할 수 있도록 지원하는 네트워크 서비스입니다.
- Service는 Pod들의 **동적 IP 변화**를 추상화하여, 외부나 다른 서비스들이 일정한 IP와 포트를 통해 접근할 수 있게 해줍니다.
- 일반적으로 **LoadBalancer**, **ClusterIP**, **NodePort** 등의 타입이 있습니다.

##### 3) **Deployment**
- **Deployment**는 **애플리케이션의 선언적 배포**를 관리하는 오브젝트입니다.
- 사용자는 Deployment에 필요한 리소스 수와 버전, 업데이트 전략 등을 정의합니다.
- Deployment는 자동으로 **Pod의 상태를 관리**하고, 애플리케이션의 버전을 롤백하거나 **스케일링**을 지원합니다.

##### 4) **ReplicaSet**
- **ReplicaSet**은 Pod의 **복제본**을 관리하는 오브젝트입니다.
- 목표는 **설정된 수의 Pod**가 항상 실행되도록 보장하는 것입니다.
- ReplicaSet은 Deployment에 의해 관리되며, **Pod 수를 자동으로 조정**하여 시스템이 정의된 상태를 유지하도록 합니다.

##### 5) **StatefulSet**
- **StatefulSet**은 **상태를 유지해야 하는 애플리케이션**을 위한 오브젝트입니다.
- 예를 들어, 데이터베이스와 같은 상태가 중요한 애플리케이션에 사용됩니다.
- StatefulSet은 **Pod의 순차적인 배치**, **고유한 이름**과 **지속적인 스토리지**를 제공합니다.

##### 6) **DaemonSet**
- **DaemonSet**은 클러스터의 모든 노드에서 **단일 Pod**가 실행되도록 보장하는 오브젝트입니다.
- 예를 들어, 각 노드에서 로그 수집기나 모니터링 에이전트를 실행할 때 사용됩니다.

##### 7) **ConfigMap**
- **ConfigMap**은 **애플리케이션의 설정 파일**을 관리하는 오브젝트입니다.
- ConfigMap을 사용하면 애플리케이션이 사용하는 설정을 **환경 변수**, **명령줄 인자**, **파일** 등으로 전달할 수 있습니다.

##### 8) **Secret**
- **Secret**은 애플리케이션이 필요한 민감한 정보를 저장하는 오브젝트입니다.
- 암호, API 키, 토큰 등과 같은 정보를 **인코딩**하여 저장할 수 있으며, Kubernetes 클러스터 내에서 안전하게 관리됩니다.

##### 9) **PersistentVolume (PV) & PersistentVolumeClaim (PVC)**
- **PersistentVolume (PV)**는 클러스터에서 제공하는 **영구 스토리지** 리소스입니다.
- **PersistentVolumeClaim (PVC)**는 사용자나 애플리케이션이 요청하는 **스토리지 용량**을 나타냅니다.
- PVC는 **PV와 연결**되어 애플리케이션에 필요한 영구적인 스토리지 공간을 제공합니다.

#### 2. 쿠버네티스 오브젝트의 특성

- **상태 관리**: 쿠버네티스 오브젝트는 **현재 상태와 원하는 상태**를 정의하여, 클러스터에서 그 상태를 유지하려고 자동으로 조정합니다.
- **선언적 관리**: 사용자는 쿠버네티스 오브젝트에 대해 "원하는 상태"를 선언하고, 쿠버네티스는 해당 상태를 유지하기 위해 필요한 작업을 수행합니다.
- **API 기반 접근**: 쿠버네티스는 REST API를 통해 오브젝트를 관리하고, 모든 오브젝트는 **API 서버**를 통해 CRUD(Create, Read, Update, Delete) 작업이 가능합니다.

#### 3. 쿠버네티스 오브젝트 관리

- **kubectl**: `kubectl`은 쿠버네티스 오브젝트를 관리하는 CLI 도구입니다. 사용자는 `kubectl`을 통해 오브젝트를 생성, 조회, 업데이트, 삭제할 수 있습니다.
- **YAML/JSON 선언 파일**: 쿠버네티스 오브젝트는 YAML 또는 JSON 파일 형식으로 정의되어 클러스터에 배포됩니다.
 

### 쿠버네티스 라벨

### 쿠버네티스 컨트롤러
* 컨트롤러는 기본 오브젝트를 생성하고 이를 관리하는 역할
* 컨트롤러는 Replication Controller(RC),Replication Set,Job
* Replication Controller: 특정 수의 파드가 항상 실행되도록 보장. 현재는 ReplicaSet으로 대체.
* ReplicaSet: 지정된 수의 복제 파드가 실행되도록 유지. Deployment에서 사용됨.
* Deployment Controller: 애플리케이션의 배포, 업데이트, 롤백 관리. 가장 일반적으로 사용되는 컨트롤러.
* StatefulSet Controller: 상태를 가진 애플리케이션(예: 데이터베이스)의 배포 관리. 각 파드에 고유한 ID를 부여하고, 순서대로 배포 및 종료.
* DaemonSet Controller: 클러스터의 모든 노드에 하나의 파드를 실행하도록 보장. 예: 로그 수집, 모니터링 에이전트.
* Job Controller: 특정 작업을 1회 실행 후 종료. 예: 데이터 처리 작업.
* CronJob Controller:정해진 스케줄에 따라 Job을 실행.예: 매일 정해진 시간에 백업 실행.
* Horizontal Pod Autoscaler (HPA): 파드의 리소스 사용량(CPU, 메모리 등)을 기반으로 자동으로 파드 수를 조정.
   
