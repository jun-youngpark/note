# 쿠버네티스 모니터링
### 개념
* 시스템 운영 관점 모니터링

### 모니터링 대상
* 리소스 : 리소스 모니터링
* 디스크 : 디스크 사용량을 모니터링,임계치는 상관이 없기때문
* CPU : CPU 모니터링은 시스템, 사용량과 IOWIAT 모니터링
* 메모리
* POD : POD deployment의 헬스는 쿠버네티스가 작동 확인
* 네트워크 : 네트워크 대역 폭

## 모니터링 시스템

## 모니터링 아키텍처
* 프로메테우스 기반 모니터링 

## 모니터링 시스템 구축
* 프로메테우스 데이터 수집은 PULLING 방식
* 프로메테우스 클라이언트 라이브러리 사용 시 프로메테우스 서버로 전송 가능
* 서비스 디스커버리 : IP, 접속정보 설정 파일 주면 프로메테우스 서버가 모니터링 정보 수집
* DNS나 Consul, etcdhk rkxdms ekdidgks tjqltm dusehd rksmd
* Grafana와 같은 시각화 툴을 통해 지표 시각화
* 알림 서비스 기능 제공(부가 기능 중 하나로 alerting 컴포넌트는 지표에 대한 규칙 설정),이메일 등 연동 가능

## 쿠버네티스 연동 아키텍처
* 쿠버네티스 목록을 라벨 셀렉터를 이용하여 수집
* apiserver에서 /metric이라는 url 통해서 기본 지표 정보 리턴

 ![image](https://github.com/user-attachments/assets/77cefd77-b42b-4188-9544-7588ce713408)
