### Kubernetes Pod

**Pod**는 Kubernetes의 가장 기본적인 실행 단위로, 하나 이상의 컨테이너를 포함하는 환경을 제공합니다. 각 Pod는 클러스터 내에서 네트워크와 스토리지 자원을 공유하며, 동일한 호스트에서 실행되는 컨테이너들을 묶어서 관리합니다. 일반적으로, Pod는 하나의 애플리케이션 또는 서비스의 단일 인스턴스를 실행하기 위한 최소 단위입니다.

#### 1. Pod의 목적

- **컨테이너화된 애플리케이션 실행**: Pod는 하나 이상의 컨테이너를 포함하고, 해당 컨테이너들이 함께 실행되며 네트워크와 저장소를 공유합니다.
- **단일 IP 주소**: Pod 내의 모든 컨테이너는 동일한 IP 주소를 공유하며, 이를 통해 동일한 네트워크 환경에서 통신할 수 있습니다.
- **환경 공유**: Pod 내의 컨테이너는 공유된 볼륨을 통해 데이터를 저장하거나 사용할 수 있습니다.

#### 2. Pod의 구성 요소

- **컨테이너(Container)**: Pod 내에서 실행되는 애플리케이션을 구성하는 기본 단위입니다. 여러 개의 컨테이너가 있을 수 있으며, 컨테이너들은 동일한 네트워크 환경을 공유합니다.
- **네트워크(Network)**: Pod 내의 컨테이너들은 동일한 IP 주소를 공유하며, 서로의 컨테이너를 로컬 호스트처럼 참조할 수 있습니다.
- **볼륨(Volume)**: Pod 내의 컨테이너들이 데이터를 공유하기 위한 스토리지입니다. 볼륨을 사용하여 컨테이너 간의 데이터 영속성을 관리할 수 있습니다.
- **Pod 스펙(Pod Spec)**: Pod를 정의하는 설정 파일로, 컨테이너 이미지, 환경 변수, 포트, 리소스 제한 등을 설정할 수 있습니다.

#### 3. Pod의 종류

- **싱글 컨테이너 Pod**: 기본적으로 하나의 컨테이너만 포함된 Pod입니다. 일반적인 Kubernetes 애플리케이션은 대부분 이 형태로 운영됩니다.
- **멀티 컨테이너 Pod**: 여러 개의 컨테이너를 포함한 Pod입니다. 컨테이너들은 서로 긴밀하게 연관되어 있으며, 같은 네트워크와 스토리지를 공유합니다. 예를 들어, 하나의 컨테이너는 웹 서버를 실행하고, 다른 컨테이너는 해당 서버의 로그를 처리하는 경우가 이에 해당합니다.

#### 4. Pod의 주요 특징

- **단일 IP 주소**: Pod 내의 모든 컨테이너는 동일한 IP 주소를 공유합니다. 이를 통해 컨테이너 간의 네트워크 통신이 간편해집니다.
- **자원 공유**: Pod 내의 컨테이너들은 동일한 리소스(네트워크, 볼륨)를 공유하므로, 함께 동작하는 애플리케이션을 실행하기에 적합합니다.
- **배치 및 관리 단위**: Pod는 Kubernetes의 스케줄러에 의해 배치되며, 여러 Pod가 클러스터 내에서 분산되어 실행됩니다.
- **수명 주기 관리**: Pod는 일정 수명 주기를 가지며, 필요에 따라 생성, 삭제, 업데이트됩니다. 만약 Pod가 실패하거나 종료되면 Kubernetes는 이를 자동으로 복구하려 시도합니다.

#### 5. Pod 사용 사례

- **애플리케이션 실행**: 간단한 단일 애플리케이션을 실행할 때, 또는 여러 개의 서비스를 하나의 애플리케이션 내에서 실행할 때 Pod를 사용합니다.
- **멀티 컨테이너 서비스**: 예를 들어, 하나의 컨테이너는 웹 서버 역할을 하고, 다른 컨테이너는 데이터베이스 서버 역할을 할 때 멀티 컨테이너 Pod를 사용하여 서비스를 관리합니다.
- **배포 및 스케일링**: Kubernetes에서는 Pod를 복제하고, 여러 Pod를 사용하여 애플리케이션을 확장하거나 분산할 수 있습니다.

#### 6. Pod 예시

##### 6.1) **단일 컨테이너 Pod**

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: my-single-container-pod
spec:
  containers:
  - name: nginx
    image: nginx:latest
    ports:
    - containerPort: 80
```


### Kubernetes Namespace

**Namespace**는 Kubernetes 클러스터 내에서 리소스를 논리적으로 분리하고, 관리할 수 있는 방법을 제공합니다. 여러 개의 Namespace를 사용하면, 같은 클러스터 내에서 서로 다른 환경(예: 개발, 테스트, 프로덕션)을 독립적으로 운영할 수 있으며, 리소스를 격리하여 충돌을 방지할 수 있습니다. 또한, 같은 이름의 리소스가 각기 다른 Namespace에서 존재할 수 있어, 이름 충돌을 해결할 수 있습니다.

#### 1. Namespace의 목적

- **리소스 분리**: 여러 팀이나 애플리케이션이 동일한 클러스터를 공유할 때 리소스를 분리하여 서로의 작업에 영향을 미치지 않도록 합니다.
- **환경 구분**: 개발, 테스트, 프로덕션 등 여러 환경을 동일한 클러스터에서 구분하여 운영할 수 있습니다.
- **보안 및 접근 제어**: 특정 Namespace에 대해 역할 기반 접근 제어(RBAC)를 설정하여 보안을 강화할 수 있습니다.
- **리소스 관리**: Namespace별로 리소스 제한을 설정하여, 특정 Namespace에서 사용하는 리소스를 제한하고 관리할 수 있습니다.

#### 2. Namespace의 주요 특징

- **네임스페이스 독립성**: 각 Namespace는 서로 독립적으로 동작하며, 한 Namespace의 리소스는 다른 Namespace와 격리됩니다.
- **리소스의 식별**: 같은 이름을 가진 리소스가 여러 Namespace에서 존재할 수 있으며, 리소스 이름은 Namespace와 결합되어 유일하게 식별됩니다.
- **리소스 쿼리**: 리소스를 쿼리할 때는 특정 Namespace를 지정하거나, 기본적으로 `default` Namespace를 사용합니다.

#### 3. Namespace의 사용 사례

- **개발/테스트/프로덕션 환경 분리**: 동일한 클러스터 내에서 서로 다른 환경을 독립적으로 운영할 수 있습니다.
- **팀별 리소스 분리**: 각 팀에 대해 별도의 Namespace를 할당하여 리소스를 분리하고, 팀별로 권한을 관리할 수 있습니다.
- **리소스 제한 및 쿼터 설정**: 각 Namespace에 대해 리소스 쿼터를 설정하여, 리소스를 관리하고 과다한 사용을 방지할 수 있습니다.

#### 4. Namespace의 예시

##### 4.1) **Namespace 생성**

Namespace를 생성하려면 `kubectl` 명령어를 사용하여 YAML 파일을 작성합니다.

```yaml
apiVersion: v1
kind: Namespace
metadata:
  name: development
```


### Kubernetes Volume

Kubernetes에서 **Volume**은 Pod 내의 컨테이너들이 데이터를 공유하거나 지속적으로 저장할 수 있게 하는 스토리지 리소스입니다.
Kubernetes Volume은 컨테이너의 생명 주기와는 독립적으로 존재하며, 컨테이너가 종료되더라도 데이터를 보존할 수 있습니다. 

Volume은 기본적으로 Pod 내에서 여러 컨테이너가 데이터를 공유할 수 있도록 지원하며, 다양한 유형의 스토리지 백엔드를 사용할 수 있습니다.

#### 1. Volume의 특징

- **Pod 내의 여러 컨테이너 공유**: 같은 Pod 내의 여러 컨테이너는 동일한 Volume을 마운트하여 데이터를 공유할 수 있습니다.
- **컨테이너 재시작과 독립성**: 컨테이너가 종료되거나 재시작되더라도 Volume에 저장된 데이터는 지속됩니다.
- **Pod의 생명 주기 독립성**: Volume은 Pod의 생명 주기와는 독립적으로 동작하여, 데이터를 계속 유지할 수 있습니다.

#### 2. Volume의 종류

Kubernetes에서 지원하는 여러 종류의 Volume이 있으며, 각기 다른 용도와 특성을 가집니다. 주요한 Volume 종류는 다음과 같습니다:

##### 2.1) **emptyDir**
- **설명**: Pod가 시작될 때, 빈 디렉토리가 생성되고, 컨테이너가 종료되면 해당 디렉토리도 삭제됩니다. 일시적인 저장소로 유용하며, Pod 내에서 데이터를 공유하는 데 사용됩니다.
- **특징**: Pod 내의 컨테이너들이 공유할 수 있으며, Pod이 삭제되면 해당 데이터도 사라집니다.
- **예시**:

```
  yaml
  volumes:
    - name: my-empty-dir
      emptyDir: {}
```

### Kubernetes Service

Kubernetes에서 **Service**는 클러스터 내의 여러 Pod들을 대상으로 일관된 접근 방식을 제공하는 추상화된 네트워킹 리소스입니다. Service는 클러스터 내부 및 외부에서 Pod들을 찾고 통신할 수 있게 도와줍니다.
Kubernetes는 Pod가 동적으로 생성되고 삭제되기 때문에, Service는 Pod들이 IP 주소나 포트를 변경해도 클러스터 내에서 일정한 엔드포인트를 제공합니다.

#### 1. Service의 역할

- **서비스 디스커버리**: Service는 클러스터 내에서 Pod들을 식별하고, 클러스터 내 다른 리소스들이 이들에 접근할 수 있게 합니다.
- **로드 밸런싱**: Service는 여러 Pod에 트래픽을 분배하여 부하를 분산시킵니다.
- **클러스터 외부 접근**: 클러스터 외부에서 클러스터 내부의 Pod에 접근할 수 있는 방법을 제공합니다.
- **네트워크 안정성**: Service는 Pod의 IP가 변하더라도, 일관된 접근 포인트를 유지하여 네트워크의 안정성을 제공합니다.

#### 2. Service의 종류

Kubernetes에서 제공하는 Service는 여러 종류가 있으며, 각기 다른 용도에 맞게 사용됩니다. 주요 Service 종류는 다음과 같습니다:

##### 2.1) **ClusterIP (기본값)**
- **설명**: `ClusterIP`는 Kubernetes 클러스터 내에서만 접근 가능한 가상 IP를 할당합니다. 외부에서 이 Service로 접근할 수 없습니다.
- **용도**: 클러스터 내 다른 Pod들이 통신할 수 있도록 할 때 사용됩니다.
- **예시**:

  ```yaml
  apiVersion: v1
  kind: Service
  metadata:
    name: my-service
  spec:
    selector:
      app: my-app
    ports:
      - protocol: TCP
        port: 80
        targetPort: 8080
    type: ClusterIP
```
